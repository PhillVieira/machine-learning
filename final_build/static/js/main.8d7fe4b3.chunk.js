(this["webpackJsonpmachine-learning"]=this["webpackJsonpmachine-learning"]||[]).push([[0],{22:function(n,e,t){n.exports=t(36)},35:function(n,e,t){},36:function(n,e,t){"use strict";t.r(e);var r=t(0),a=t.n(r),i=t(16),o=t.n(i),c=t(4),l=t(5),u=t(7),s=t(6),d=t(1),p=t(2);function f(){var n=Object(d.a)(["\n    display:block;\n    float:right;\n    padding-top:3px;        \n    margin-left:4px;\n"]);return f=function(){return n},n}var m=p.a.div(f()),g=function(n){Object(u.a)(t,n);var e=Object(s.a)(t);function t(){return Object(c.a)(this,t),e.apply(this,arguments)}return Object(l.a)(t,[{key:"exitIcon",value:function(n){return r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.0",width:"14px",height:"14px",viewBox:"0 0 1280.000000 1280.000000",preserveAspectRatio:"xMidYMid meet"},r.createElement("g",{transform:"translate(0.000000,1280.000000) scale(0.100000,-0.100000)",fill:n,stroke:"none"},r.createElement("path",{d:"M6080 11255 c-171 -35 -306 -109 -435 -239 -100 -101 -158 -193 -199 -316 -36 -108 -46 -186 -46 -357 l0 -153 2355 0 c1694 0 2369 -3 2407 -11 167 -35 301 -170 337 -337 16 -76 16 -6808 0 -6884 -36 -167 -171 -302 -337 -337 -38 -8 -713 -11 -2407 -11 l-2355 0 0 -152 c0 -172 10 -250 46 -358 41 -122 99 -214 199 -316 133 -134 278 -211 459 -243 41 -8 807 -11 2393 -11 2569 0 2395 -4 2563 61 107 41 192 100 290 199 126 127 201 275 229 450 15 91 15 8229 0 8320 -55 348 -329 629 -677 696 -106 20 -4721 19 -4822 -1z"}),r.createElement("path",{d:"M5825 8954 c-44 -14 -78 -43 -289 -252 -266 -265 -286 -292 -286 -397 0 -37 8 -76 19 -101 13 -28 204 -227 646 -670 l628 -629 -2574 -5 -2574 -5 -41 -22 c-56 -30 -119 -103 -133 -155 -9 -31 -11 -143 -9 -383 3 -328 4 -341 25 -381 25 -48 83 -101 129 -120 28 -12 446 -14 2604 -14 1413 0 2570 -3 2570 -7 0 -4 -281 -289 -625 -633 -478 -479 -629 -636 -644 -670 -27 -60 -27 -150 0 -210 29 -64 454 -491 523 -525 64 -32 157 -34 219 -5 31 15 363 341 1218 1197 1160 1162 1176 1179 1208 1251 30 66 33 80 30 150 -5 97 -35 161 -123 263 -35 41 -563 572 -1172 1181 -783 781 -1122 1112 -1153 1128 -57 29 -133 34 -196 14z"})))}},{key:"render",value:function(){var n=this.props,e=(n.icon,n.color);return r.createElement(m,null,this.exitIcon(e||"#8FBB"))}}]),t}(r.Component);function b(){var n=Object(d.a)(["\n  display: block;\n  font-weight: 500;\n  padding: 4px 10px;\n  line-height: 26px;\n  font-size: 13px;\n  color: ",";\n  cursor: pointer;\n  transition: all 0.2s ease-in-out;\n  border-radius: 4px 4px 0px 0px;\n  text-transform: uppercase;\n  background: none;\n  min-width: ",";\n\n  &:disabled {\n    color: #000000;\n    background: #999999;\n    cursor: not-allowed;\n  }\n\n  &:hover {\n    background-color: ",";\n    color: #282c34;\n\n    /* SVG HOVER COLOR */\n    svg > g {\n      fill: #282c34;\n    }\n  }\n"]);return b=function(){return n},n}function h(){var n=Object(d.a)(["\n  display: flex;\n  width: 200px;\n  justify-content: space-around;\n"]);return h=function(){return n},n}function v(){var n=Object(d.a)(["\n  background-color: rgba(0, 0, 0, 0.2);\n  position: absolute;\n  top: 0;\n  left: 0;\n  color: #8fbb;\n  height: 16px;\n  padding: 2px 10px;\n  width: 100%;\n  font-size: 10px;\n  cursor: grab;\n  -webkit-app-region: drag;\n"]);return v=function(){return n},n}function x(){var n=Object(d.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-content: top;\n  height: 60px;\n  padding: 24px 6px 0px 6px;\n  width: 100%;\n  color: ",";\n  background-color: #282c34;\n  border-bottom: 1px solid ",";\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n"]);return x=function(){return n},n}var E=p.a.div(x(),"#8FBB","#8FBB"),w=p.a.div(v()),j=p.a.div(h()),O=p.a.button(b(),"#8FBB",(function(n){return n.useMinWidth&&"200px"}),"#8FBB"),y=function(n){Object(u.a)(t,n);var e=Object(s.a)(t);function t(n){var r;return Object(c.a)(this,t),(r=e.call(this,n)).ipcRenderer=void 0,r.initializeIpcRenderer=function(){if(!window||!window.process||!window.require)throw new Error("Unable to require renderer process");r.setState({ipcRenderer:window.require("electron").ipcRenderer},(function(){r.state.ipcRenderer.on("reply-done-training",(function(n,e){console.log("HEADER",e),r.setState({loading:!1})}))}))},r.openTrainingMode=function(){var n=r.state.ipcRenderer;r.setState({loading:!0},(function(){n.send("open-training")}))},r.exitApp=function(){r.state.ipcRenderer.send("close-program","ping")},r.state={ipcRenderer:null,loading:!1},r}return Object(l.a)(t,[{key:"componentDidMount",value:function(){this.state.ipcRenderer||this.initializeIpcRenderer()}},{key:"render",value:function(){var n=this;return r.createElement(E,null,r.createElement(w,null,"Machine Learning"),r.createElement(j,null,r.createElement(O,{onClick:this.openTrainingMode,disabled:this.state.loading,useMinWidth:!0},this.state.loading?"Em treinamento...":"Executar Treinamento")),r.createElement(O,{onClick:function(){return n.exitApp()}},"Sair ",r.createElement(g,{icon:"exit",color:"#fff"})," "))}}]),t}(r.Component),k=t(8);function B(){var n=Object(d.a)(["\n  padding: 0.1rem;\n"]);return B=function(){return n},n}function R(){var n=Object(d.a)([""]);return R=function(){return n},n}function S(){var n=Object(d.a)(["\n  text-transform: uppercase;\n  margin-bottom: 0.825rem;\n"]);return S=function(){return n},n}function M(){var n=Object(d.a)(["\n  text-transform: uppercase;\n  margin-bottom: 0.825rem;\n"]);return M=function(){return n},n}function F(){var n=Object(d.a)(["\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n  font-size: 14px;\n"]);return F=function(){return n},n}function z(){var n=Object(d.a)(["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  padding: 0.5rem 1.5rem;\n\n  header {\n    font-size: 18px;\n    font-weight: 600;\n    text-align: center;\n    padding-bottom: 0.5rem;\n    margin-bottom:16px;\n    border-bottom:1px solid #8FBB;\n    \n  }\n"]);return z=function(){return n},n}function C(){var n=Object(d.a)(["\n  height: 40vh;\n  width: 100%;\n  background: rgba(50,50,50,0.4);\n  color:#8FBB;\n"]);return C=function(){return n},n}var I=p.a.div(C()),A=p.a.div(z()),T=p.a.div(F()),D=(p.a.h2(M()),p.a.h4(S())),J=p.a.div(R()),L=p.a.div(B()),P=function(n){var e=n.data,t=n.loadingData,i=Object(r.useState)([]),o=Object(k.a)(i,2),c=o[0],l=o[1],u=Object(r.useState)({accuracy:0,label:""}),s=Object(k.a)(u,2),d=s[0],p=s[1];return Object(r.useEffect)((function(){if(console.log("data",e),e){var n=Object.keys(e.features).map((function(n){return{name:n,value:e.features[n]}}));n.length&&l(n),p(e.prediction)}}),[e]),a.a.createElement(I,null,t?a.a.createElement("p",null,"Carregando..."):a.a.createElement(A,null,a.a.createElement("header",null,"Caracter\xedsticas"),a.a.createElement(T,null,a.a.createElement("div",null,a.a.createElement(D,null,"Milhouse"),a.a.createElement(J,null,c.length>0&&c.slice(0,3).map((function(n,e){return a.a.createElement(L,{key:e},n.name," = ",n.value.toPrecision(4))})))),a.a.createElement("div",null,a.a.createElement(D,null,"Apu"),a.a.createElement(J,null,c.length>0&&c.slice(3,6).map((function(n,e){return a.a.createElement(L,{key:e},n.name," = ",n.value.toPrecision(4))}))))),d.accuracy&&a.a.createElement(T,{style:{marginTop:"35px",paddingTop:"16px",borderTop:"1px solid #8FBB"}},a.a.createElement("div",null,a.a.createElement(D,null,"Predi\xe7\xe3o"),a.a.createElement(J,null,a.a.createElement(L,null,d.accuracy.toFixed(4)),a.a.createElement(L,null,100!=d.accuracy?(100-d.accuracy).toFixed(4):"-"))),a.a.createElement("div",null,a.a.createElement(D,null,"Personagem"),a.a.createElement(J,null,a.a.createElement(L,null,d.label),a.a.createElement(L,null,"Milhouse"==d.label?"Apu":"Milhouse"))))))},q=t(21);function U(){var n=Object(d.a)(["\n  display: block;\n  height: 100%;\n  width: 100%;\n  max-height: 400px;\n  object-fit: contain;\n  margin: 0px auto;\n  text-align: center;\n  border: 1px solid #8FBB;\n  transition: all 0.2s ease-in-out;\n"]);return U=function(){return n},n}function V(){var n=Object(d.a)(["\n  display: flex;\n  min-width: 100%;\n  overflow: hidden;\n"]);return V=function(){return n},n}function N(){var n=Object(d.a)(["\n  display: inline-flex;\n  width: 100%;\n  max-width: 500px;\n  max-width: 100%;\n  height: 100%;\n  margin-top: 8px;\n  text-align: center;\n"]);return N=function(){return n},n}function W(){var n=Object(d.a)(["\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  margin-top: 16;\n"]);return W=function(){return n},n}function H(){var n=Object(d.a)(["\n  display: block;\n  width: 92%;\n  margin: 50px auto 0px auto;\n  color: #8FBB;\n  text-transform: uppercase;\n  text-align: center;\n  font-size: 14px;\n  border-radius: 8px;\n\n  .dropzone {\n    width: 100%;\n    padding: 20px;\n    border: 1px dashed #8FBB;\n    background-color:#333;\n  }\n"]);return H=function(){return n},n}var G=p.a.aside(H()),Y=p.a.div(W()),$=p.a.div(N()),K=p.a.div(V()),Q=p.a.img(U());function X(n){var e=Object(r.useState)([]),t=Object(k.a)(e,2),i=t[0],o=t[1],c=Object(q.a)({accept:"image/*",onDrop:function(e){e[0]&&n.changeImage(e[0]),o(e.map((function(n){return Object.assign(n,{preview:URL.createObjectURL(n)})})))}}),l=c.getRootProps,u=c.getInputProps,s=i.map((function(n){return a.a.createElement($,{key:n.name},a.a.createElement(K,null,a.a.createElement(Q,{src:n.preview})))}));return Object(r.useEffect)((function(){return function(){i.forEach((function(n){return URL.revokeObjectURL(n.preview)}))}}),[i]),a.a.createElement(G,null,a.a.createElement("div",l({className:"dropzone"}),a.a.createElement("input",u()),a.a.createElement("p",null,"Arraste ou Selecione sua Imagem")),a.a.createElement(Y,null,s))}var Z=t(9),_=t.n(Z),nn=function(n){var e=n.done;return r.createElement("div",{style:{display:"block",width:"100%",textAlign:"center",color:"#999"}},r.createElement("span",null,"Tempo de treino - "),r.createElement(_.a,{formatValue:function(n){return"".concat(n<10?"0".concat(n):n," ")}},(function(n){var t=n.start,a=n.stop;return r.createElement(r.Fragment,null,e?a():t(),r.createElement(_.a.Hours,{formatValue:function(n){return"".concat(n,":")}}),r.createElement(_.a.Minutes,{formatValue:function(n){return"".concat(n,":")}}),r.createElement(_.a.Seconds,{formatValue:function(n){return"".concat(n)}}))})))};function en(){var n=Object(d.a)(["\n  max-width: 90%;\n  margin-top:12px;\n"]);return en=function(){return n},n}function tn(){var n=Object(d.a)(["\n  max-width: 100%;\n"]);return tn=function(){return n},n}function rn(){var n=Object(d.a)(["\n  display: block;\n  width: 90%;\n  height:40px;\n  padding: 10px;\n  color: #8FBB;\n  border: 1px solid #333;\n  background-color: #333;\n  text-align: center;\n"]);return rn=function(){return n},n}function an(){var n=Object(d.a)(["\n  background-color: #666;\n  cursor: default;\n\n  &:active {\n    background-color: #666;\n    color: #333;\n  }\n"]);return an=function(){return n},n}function on(){var n=Object(d.a)(["\n  display: block;\n  height: 40px;\n  line-height: 25px;\n  border-radius: 4px;\n  text-transform: uppercase;\n  font-weight: 700;\n  text-align: center;\n  width: 40%;\n  padding: 8px 12px;\n  /* margin-top:15px; */\n  color: #333;\n  background-color: #8FBB;\n  transition: all 0.2s ease-in-out;\n  cursor: pointer;\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n\n  &:active {\n    color: #8FBB;\n    background-color: #333;\n  }\n"]);return on=function(){return n},n}function cn(){var n=Object(d.a)([""]);return cn=function(){return n},n}function ln(){var n=Object(d.a)(["\n  border-right: 1px solid #7777;\n"]);return ln=function(){return n},n}function un(){var n=Object(d.a)(["\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: center;\n  vertical-align: middle;\n  padding: 5px 12px;\n  min-height: 85vmin;\n  max-height: 85vmin;\n  width: 50%;\n"]);return un=function(){return n},n}function sn(){var n=Object(d.a)(["\n  display: flex;\n  padding-top: 30px;\n  padding-bottom: 30px;\n  justify-content: center;\n"]);return sn=function(){return n},n}var dn=p.a.div(sn()),pn=p.a.div(un()),fn=Object(p.a)(pn)(ln()),mn=Object(p.a)(pn)(cn()),gn=p.a.button(on()),bn=Object(p.a)(gn)(an()),hn=p.a.p(rn()),vn=(p.a.img(tn()),p.a.img(en())),xn=function(n){Object(u.a)(t,n);var e=Object(s.a)(t);function t(n){var r;return Object(c.a)(this,t),(r=e.call(this,n)).initializeIpcRenderer=function(){if(!window||!window.process||!window.require)throw new Error("Unable to require renderer process");r.setState({ipcRenderer:window.require("electron").ipcRenderer,loading:!1},(function(){r.state.ipcRenderer.on("starting-training",(function(n,e){r.setState({loading:!0,confusionMatrix:"",timer:Date.now()})})),r.state.ipcRenderer.on("python-training",(function(n,e){if(r.state.ipcRenderer.send("done-training",!0),r.isJson(e)){var t=JSON.parse(e);"uri"===Object.keys(t)[0]&&(console.log("matrix de confus\xe3o "+t.uri),r.setState({loading:!1,confusionMatrix:t.uri,timer:0}))}})),r.state.ipcRenderer.on("python-events",(function(n,e){if(r.isJson(e)){var t=JSON.parse(e);console.log("Obtained features",t),t.features&&t.prediction&&r.setState({loadingClassify:!1,features:t})}else r.setState({loadingClassify:!1})}))}))},r.handleImage=function(n){console.log("SELECTED-IMAGE",n),r.setState({image:n})},r.classifyAction=function(){var n=r.state,e=n.ipcRenderer,t=n.image;"object"==typeof t&&r.setState({loadingClassify:!0},(function(){e.send("classify-image",{data:t.path})}))},r.isJson=function(n){try{JSON.parse(n)}catch(e){return!1}return!0},r.state={ipcRenderer:null,loading:!1,loadingClassify:!1,timer:0},r}return Object(l.a)(t,[{key:"componentDidMount",value:function(){this.state.ipcRenderer||this.initializeIpcRenderer()}},{key:"render",value:function(){var n=this,e=this.state,t=e.image,a=e.loading,i=e.loadingClassify,o=e.confusionMatrix,c=e.features;e.timer;return r.createElement(dn,null,r.createElement(fn,null,r.createElement(X,{changeImage:this.handleImage}),t?i?r.createElement(bn,null,"Processando Imagem..."):r.createElement(gn,{onClick:function(){return n.classifyAction()}},"Classificar"):r.createElement(bn,null,"Selecione uma imagem")),r.createElement(mn,null,r.createElement(P,{loadingData:i,data:c}),o?r.createElement(vn,{src:o}):a?r.createElement(hn,null,"Realizando treinamento..."):r.createElement(hn,null,"Aguardando Treinamento"),r.createElement(nn,{done:!a})))}}]),t}(r.Component);t(35);var En=function(){return a.a.createElement("div",{className:"App"},a.a.createElement(y,null),a.a.createElement(xn,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(En,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()})).catch((function(n){console.error(n.message)}))}},[[22,1,2]]]);
//# sourceMappingURL=main.8d7fe4b3.chunk.js.map